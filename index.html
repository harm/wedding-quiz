<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>jQuery Rolodex Countdown Animation[Demo]</title>
  <meta name="author" content="Jake Rocheleau">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script type="text/javascript" language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" language="javascript" src="js/smart.js"></script>
</head>

<body>	
	<div id="wrapping">
		<div id="dries" class="clearfix">
			<div class="block">
				<span id="dries_counter">120</span>
				<span class="name">Dries</span>
			</div>
		</div>
		
		<div id="lian" class="clearfix">
			<div class="block">
				<span id="lian_counter">120</span>
				<span class="name">Lian</span>
			</div>
		</div>
	</div>
	
	<div style="clear:both;"></div>
	
	<div id="controls">
		<div id="dries_controls">
			<a href="#" id="toggle_time">Toggle start</a>
			<a href="#" class="score">10</a>
			<a href="#" class="score">20</a>
			<a href="#" class="score">30</a>
			<a href="#" class="score">40</a>
			<a href="#" class="score">50</a>
		</div>
	
		<div id="lian_controls">
			<a href="#" id="toggle_time">Toggle start</a>
			<a href="#" class="score">10</a>
			<a href="#" class="score">20</a>
			<a href="#" class="score">30</a>
			<a href="#" class="score">40</a>
			<a href="#" class="score">50</a>
		</div>
	
		<div style="clear:both;"></div>
	
		<div id="general_controls">
			<button id="stop_time">Toggle time</button>
		</div>
	</div>


<script type="text/javascript" charset="utf-8">
	$(document).ready(function(){

		driesCounter  = $("#dries_counter");
		lianCounter  = $("#lian_counter");
		
		dries_paused = false;
		lian_paused = false;

		$("#dries_controls #toggle_time").click(function() {
			dries_paused = !dries_paused;
		});
		
		$("#lian_controls #toggle_time").click(function() {
			lian_paused = !lian_paused;
		});
		
		$('#stop_time').click(function() {
			lian_paused = dries_paused = true;
		});
		
		$('#dries_controls .score').click(function() {
			var score = parseInt($(this).html());
			var counter = parseInt($(driesCounter).html());
			$(driesCounter).html((counter + score));
		});
		
		$('#lian_controls .score').click(function() {
			var score = parseInt($(this).html());
			var counter = parseInt($(lianCounter).html());
			$(lianCounter).html((counter + score));
		});

		var refreshId = setInterval(function() {
		  var currentSecondsDries = driesCounter.text();
		  var currentSecondsLian = lianCounter.text();
		  if(currentSecondsDries == 0 ||currentSecondsLian == 0) {
			// end of game
		  } else {
			if (!dries_paused) {
		      	driesCounter.html(currentSecondsDries-1);
			}
			if (!lian_paused) {
				lianCounter.html(currentSecondsLian-1);
			}
	      }
	   }, 1000);
	});
	
</script>
</body>

</html>